# Еженедельное культурно-просветительское интернет-издание «Китайская неделя»
![Static Badge](https://img.shields.io/badge/main_language-Python?logo=python&logoSize=auto&labelColor=yellow&color=gray) ![GitHub language count](https://img.shields.io/github/languages/count/littleweirdo410/chineseweekly) ![GitHub License](https://img.shields.io/github/license/littleweirdo410/chineseweekly) ![Website](https://img.shields.io/website?url=https%3A%2F%2Fchineseweekly.ru%2F)  ![GitHub code size in bytes](https://img.shields.io/github/languages/code-size/littleweirdo410/chineseweekly)

## Рождение идеи

Работа над проектом началась в 2021 году, когда я училась на ФИЯРе на 3-м курсе бакалавриата, а в нашем штатном расписании появился предмет под названием "Кафедральный практикум". Кафедральный практикум представлял собой разновидность групповой проектной деятельности, целью которой стояла разработка чего-нибудь общественно полезного и связанного с регионоведением, культурологией или межкультурной коммуникацией. Можно сказать, что нам предоставлялась свобода действий в рамках разумного: мне даже разрешили делать <ins>индивидуальную работу</ins> в порядке исключения.

К тому моменту я уже кое-что смыслила в веб-разработке, а посему решила сделать свой собственный интерактивный сайт о Китае и китайском языке, чтобы заодно потренировать навыки написания фронтенда и бэкенда. Так на свет появилось моё еженедельное культурно-просветительское интернет-издание «Китайская неделя», способствующее преодолению пропастей и наведению мостов между двумя уникальными и дружественными культурами: русской и китайской.

## Состав проекта и стек технологий

Интернет-издание «Китайская неделя» является целостной системой, состоящей из следующих составных частей:

* **Сайт** (доступен в поисковой выдаче Яндекс, [в данном примере под номером 5](https://yandex.ru/search/?text=китайская+неделя+еженедельное+культурно-просветительское+интернет-издание+«Китайская+неделя»&lr=20040&clid=2270455&win=600))
  * *Бэкенд:* Python 3.9 (Flask 2.0.1)
  * *Фронтенд:* HTML/CSS/JS(JQuery)
  * *База данных:* SQLite
  * *ORM:* SQLAlchemy
  * *Доменное имя:*
    * Ранее: chineseweekly.xyz (регистратор -- Namecheap)
    * Сейчас: [chineseweekly.ru](https://chineseweekly.ru/) (регистратор -- Спринтнеймс)
  * *Хостинг-провайдер:* [Спринтхост](https://sprinthost.ru/)
  * *Веб-аналитика:* Google Analytics (временно не работает), Яндекс Метрика
  * *Сервис комментирования публикаций:* Disqus
  (комментарии, оставленные вплоть до июня 2022 г., стёрлись при переезде на новый домен, избранные отзывы можно посмотреть [здесь](https://disk.yandex.ru/i/XjBsiYQQ4JZ4FA))
  * *"Карта" сайта*:
    * Заглавная страница (с формой для подписки на email-рассылку)
    * Список публикаций, расположенных в порядке возрастания давности
    * Отдельные страницы публикаций в количестве 25 штук (со строкой поиска по сайту от Яндекса, формой для подписки на email-рассылку и блоком для комментариев)
    * Информация о Телеграм-боте с кнопкой перехода к диалогу
    * Краткая информация об авторе сайта и миссии блога (частично устарела)
    * Политика использования Cookies
    * Административная панель Flask-Admin, предназначенная для:
      * Публикации, хранения и редактирования текста постов (с HTML-разметкой)
      * Хранения и выгрузки списка email-адресов для рассылки
* **Телеграм-бот @audirovanie_bot** (временно не работает)
  * *Код:* Python 3.9 (telebot)
  * *Провайдер услуг по распознаванию речи с помощью AI:* IBM Cloud (больше не работает с российскими пользователями)
* **Email-рассылка** (временно не настроена)
  * *Количество email-адресов в базе на данный момент:* 27
  * *Поставщик услуг:* SendPulse (больше не работает с российскими пользователями)

## Описание возможностей и документация

Всю релевантную на март 2022 года документацию ([презентацию проекта](https://disk.yandex.ru/i/SRx_mK3h6OQqSA) и "[спецификацию](https://disk.yandex.ru/i/ZJb7N0msjdodWg)" к нему, [избранное из обратной связи](https://disk.yandex.ru/i/XjBsiYQQ4JZ4FA) в секции комментариев под публикациями, демо-материалы [возможностей сайта](https://disk.yandex.ru/d/x-ynZsSnmrsuCg) и [Телеграм-бота](https://disk.yandex.ru/d/8PxBzM7MZ7bKNQ), а также примеры внешнего вида [email-рассылок Sendpulse](https://disk.yandex.ru/d/QWlgLvGv47pNAA)) Вы можете найти [в соответствующей папке на Яндекс-диске](https://disk.yandex.ru/d/dXxWJnWfSiFnfg).

<ins>**Сайт**</ins>

Публикации в проекте «Китайская неделя» в период его активности выходили с периодичностью раз в неделю по субботам до декабря 2021 года включительно. Наполнение статей значительно варьировалось в зависимости от повестки контент-плана (помимо текстовой информации на русском языке, за всё время ведения блога на сайте были обнародованы [эксклюзивные интервью](https://chineseweekly.ru/site.wsgi/publications/23/), [тематические книжные обзоры](https://chineseweekly.ru/site.wsgi/publications/22/), [культурологические мини-исследования](https://chineseweekly.ru/site.wsgi/publications/15/), [обучающие материалы](https://chineseweekly.ru/site.wsgi/publications/19/), [в том числе и в видеоформате](https://chineseweekly.ru/site.wsgi/publications/4/), [интерактивные викторины](https://disk.yandex.ru/i/25z_OyRYMUwbIg) и [информативные таблицы](https://chineseweekly.ru/site.wsgi/publications/14/), [мультимедийные презентации](https://chineseweekly.ru/site.wsgi/publications/18/) и многое другое), однако в целом содержание было полностью сосредоточено вокруг изучения и практического применения китайского языка и знакомства широкой аудитории с богатым культурным наследием Китая.

<ins>**Телеграм-бот**</ins>

[Listening Helper Bot](https://t.me/audirovanie_bot) появился задолго до «Китайской недели», так давно, что я уже и не помню, когда -- скорее всего, в летне-каникулярном промежутке между 2-м и 3-м курсами бакалавриата. Бот изначально был создан и размещён мной в мессенджере Telegram для личных нужд и нужд моих товарищей, изучавших китайский язык в университете в одной группе со мной. Долгое время хостился исключительно на локалхосте и включался по автозапуску вместе с ноутом или глубокой ночью по команде "Милена, включи бота плиз" в чате группы :) Когда я задумала «Китайскую неделю» и решила приурочить [полезного бота к приятному блогу](https://chineseweekly.ru/site.wsgi/bot/), предполагалось, что нагрузка слегка возрастёт из-за желающих потестить и поиграться, обычно набегающих в первое время после презентаций проектов, поэтому наш искусственно-интеллектуальный друг переехал жить на [Heroku](https://www.heroku.com/).

Принцип работы цифрового помощника предельно прост: пользователь после вывода подсказки от бота высылает в диалог аудиофайл с записью на китайском языке в формате ```.mp3``` или ```.wav```, а бот его транскрибирует посредством обращения к API соответствующего ИИ-инструмента, предлагаемого IBM Cloud. Платить компании IBM за использование их нейросети мне так и не пришлось, поскольку бесплатного лимита запросов хватало на всю компашку китаистов ФИЯРа с лихвой. Однако век благоденствия был недолог.

К сожалению, бот лишился своего ключевого функционала летом 2022 года вследствие деактивации учётных записей и доступа к API платформы IBM Cloud для всех разработчиков из Российской Федерации. Мой аккаунт просто взяли и навсегда заблокировали без права восстановления или изменения региона проживания в профиле. Первое время мной предпринимались попытки найти другого достойного поставщика услуг автоматической транскрибации, но, поскольку необходимость выполнять аудирования на китайском языке практически отпала вместе с окончанием бакалавриата, я плюнула и отложила эту часть проекта в долгий ящик. Теперь от бота остались ~~рожки да ножки~~, профиль в Телеграме, горстка кода и демонстрационный ролик из презентации проекта, с которым можно ознакомиться [по ссылке](https://disk.yandex.ru/i/CqQUa7_LAw2n8w).

<ins>**Email-рассылка**</ins>

Массовая рассылка оповещений по электронной почте с целью информирования всех заинтересованных лиц об обновлениях на сайте осуществлялась с email-адреса **info@chineseweekly.xyz** по субботам сразу после появления новых публикаций в проекте «Китайская неделя» в период его активности. Сбор адресов пользователей, желающих узнавать о выходе новых постов на сайте раньше всех, производился посредством специальной формы, размещённой во всех значимых и наиболее посещаемых разделах сайта (отдельная форма есть на заглавной странице и на страницах публикаций; также CTA (call-to-action)-кнопка, ведущая к форме, расположенной на главной странице, есть в правом верхнем углу в шапке сайта и отображается в любом его разделе, кроме административной панели).

Собранные email-адреса сохраняются в отдельную таблицу прикрученной к сайту базы данных SQLite. Полученный список почтовых ящиков периодически вручную выгружался из базы по мере наполнения и перенаправлялся в сервис рассылок SendPulse. Сервис SendPulse использовался мной не только непосредственно для массовой полуавтоматической рассылки оповещений, но и для конструирования макета (шаблона) тела письма, текст которого каждый раз сознательно модифицировался перед рассылкой под конкретную только что вышедшую публикацию.

В теории можно было бы поступить иначе и унифицировать содержание писем либо подготавливать их ещё до размещения статьи, настроив автоматическую отправку по триггеру (такая функция у сервиса была), чтобы по большей части избавиться от ручной работы, но малый масштаб проекта позволял осуществлять некоторые процессы в ручном режиме без особых проблем. 

**Стандартная визуальная структура оповещения о новой публикации** (сверху вниз в "столбик") включала в себя:

- логотип издания;
- заголовок с названием поста;
- подзаголовок с приглашением на страницу публикации;
- яркую CTA-кнопку, при нажатии которой можно получить доступ к статье;
- заголовок блока, содержащего цитату из публикации;
- непосредственно сам блок с выдержкой из поста (как правило, из его вводной части), позволяющей составить общее представление о содержании статьи;
- благодарность читателю за интерес к деятельности издания;
- кнопку отказа от дальнейшего получения рассылки.

Примеры того, как это могло бы выглядеть в Вашем почтовом ящике, можно посмотреть [здесь](https://disk.yandex.ru/d/QWlgLvGv47pNAA).

## Современный этап развития, редизайн логотипа и планы на будущее

Несмотря на все превратности судьбы (отключение российских банков от SWIFT и последовавшую вскоре за этим потерю оригинального домена вследствие трудностей с его продлением), история "Китайской недели" отнюдь не закончилась. В мае 2024 года я восстановила сайт из руин и натянула его на новый домен, а в июле в рамках тренировки навыков работы в Figma сделала пилотный редизайн логотипа, сохранив изначальный концепт — название сайта на китайском и окружающие его веточки бамбука.

Вполне вероятно, что дизайн ещё будет меняться и упрощаться, поскольку, стараясь отрисовать бамбук как можно более реалистичным, я устроила перебор с "тенюшками" и детализацией, а также изменила основной цвет лого, что впоследствии должно бы привести к радикальному изменению цветовой гаммы всего сайта (но пока что у меня не дошли руки даже банально перекрасить кнопочки, хе).

В любом случае, если я решу дальше продолжать развивать проект (а у меня таки есть ряд идей для новых постов, например, любопытное исследование о связи [ранее опубликованной на сайте легенды о мифической китайской династии Ся](https://chineseweekly.ru/site.wsgi/publications/8/) с её творческой интерпретацией, фигурирующей в [фантастической вселенной SCP Foundation](https://scpfoundation.net/scp-2847)), то мне предстоит свернуть горы:

1. полностью привести в порядок фронтенд, причесать и осовременить его, а также привести в соответствие с логотипом (либо посредством изменения цветовой гаммы сайта и добавления краткой версии лого, либо ещё одним редизайном последнего);    
2. запастись подробным контент-планом на ближайший год;    
3. починить бота в Телеграме, возможно, найти нового поставщика услуг или дообучить свою собственную модель (хотя изначальный функционал бота больше не актуален ни для кого из бывших пользователей, всегда можно обогатить его новыми фичами или вовсе переработать концепт);    
4. заново прикрутить Google Analytics;    
5. произвести небольшой апдейт подвала (заменить адреса криптокошельков действующими и убрать ссылки, ведущие на некоторые давно мной заброшенные соцсети, в том числе и запрещённые) и персональной информации в разделе «Об авторе»;    
6. возобновить email-рассылку (эл.почта на домене уже создана заново, как говорится, пишите письма: [info@chineseweekly.ru](mailto:info@chineseweekly.ru), а вместо SendPulse можно перейти на Unisender или RuSender).
